<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<!-- THIS PAGE IS AUTOMATICALLY GENERATED.  DO NOT EDIT. -->
<!-- Thu Apr  4 12:57:30 2002 -->
<!-- USING HT2HTML 2.0 -->
<!-- SEE http://ht2html.sf.net -->
<!-- User-specified headers:
Title: Final system setup - GNU Project - Free Software Foundation (FSF)

-->

<head>
<title>Final system setup - GNU Project - Free Software Foundation (FSF)</title>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
<meta name="generator" content="HT2HTML/2.0">
<LINK REV="made" HREF="mailto:webmasters@www.gnu.org">
<style type="text/css">
body { margin: 0px; }
</style>
</head>
<body bgcolor="#ffffff" text="#000000"
      marginwidth="0" marginheight="0"
      link="#0000bb"  vlink="#551a8b"
      alink="#ff0000">
<!-- start of page table -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<!-- start of banner row -->
<tr>
<!-- start of corner cells -->
<td width="150" valign="middle" bgcolor="black" class="corner">

<center>
    <a href="./index.html">
    <img border=0 src="./images/logo-70.jpg"></a></center> </td>
<td width="15" bgcolor="#99997c">&nbsp;&nbsp;</td><!--spacer-->
<!-- end of corner cells -->
<!-- start of banner -->
<td width="90%" bgcolor="#99997c" class="banner">
<!-- start of site links table -->
<table width="100%" border="0"
CELLSPACING=0 CELLPADDING=0
       bgcolor="#ffffff">
<tr>
    <td bgcolor="#99997c">
<a href="./index.html">Home</a>
    </td>
    <td bgcolor="#99997c">
<a href="./users.html">Users</a>
    </td>
    <td bgcolor="#99997c">
<a href="http://www.list.org/">List.Org</a>
    </td>
</tr><tr>
    <td bgcolor="#99997c">
<a href="./install-start.html">Installation</a>
    </td>
    <td bgcolor="#99997c">
<a href="./mgrs.html">List Managers</a>
    </td>
    <td bgcolor="#99997c">
<a href="http://www.gnu.org/software/mailman/mailman.html">Mailman at GNU</a>
    </td>
</tr><tr>
    <td bgcolor="#99997c">
<a href="./faq.html">FAQ</a>
    </td>
    <td bgcolor="#99997c">
<a href="./admins.html">Site Administrators</a>
    </td>
    <td bgcolor="#99997c">
<a href="http://www.python.org/">Python.Org</a>
    </td>
</tr><tr>
    <td bgcolor="#99997c">
<a href="./lists.html">Discussion Lists</a>
    </td>
    <td bgcolor="#99997c">
<a href="./devs.html">Developers</a>
    </td>
    <td bgcolor="#99997c">
<a href="http://www.gnu.org/">Gnu.Org</a>
    </td>
</tr>
</table><!-- end of site links table -->

</td><!-- end of banner -->
</tr><!-- end of banner row -->
<tr><!-- start of sidebar/body row -->
<!-- start of sidebar cells -->
<td width="150" valign="top" bgcolor="#99997c" class="sidebar">
<!-- start of sidebar table -->
<table width="100%" border="0" cellspacing="0" cellpadding="3"
       bgcolor="#ffffff">
<tr><td bgcolor="#663300"><b><font color="#ffffff">
Overview
</font></b></td></tr>
<tr><td bgcolor="#99997c">
<a href="MM21/index.html"><b>Mailman 2.1 info</b>
</td></tr>
<tr><td bgcolor="#99997c">
<a href="index.html">Home</a>
</td></tr>
<tr><td bgcolor="#99997c">
<a href="features.html">Features</a>
</td></tr>
<tr><td bgcolor="#99997c">
<a href="download.html">Requirements, Download</a>
</td></tr>
<tr><td bgcolor="#99997c">
<a href="install-start.html">Installation</a>
</td></tr>
<tr><td bgcolor="#99997c">
<a href="lists.html">Discussion Lists</a>
</td></tr>
<tr><td bgcolor="#99997c">
<a href="bugs.html">Bugs and Patches</a>
</td></tr>
<tr><td bgcolor="#99997c">
<a href="faq.html">Frequently Asked Questions</a>
</td></tr>
<tr><td bgcolor="#99997c">
<a href="inthenews.html">Mailman in Use</a>
</td></tr>
<tr><td bgcolor="#99997c">
<a href="todo.html">Wishlist!</a>
</td></tr>
<tr><td bgcolor="#99997c">&nbsp;
<tr><td bgcolor="#663300"><b><font color="#ffffff">
Installing Mailman
</font></b></td></tr>
<tr><td bgcolor="#99997c">
<a href="install-start.html">Start installing</a>
</td></tr>
<tr><td bgcolor="#99997c">
<a href="install-system.html">System setup</a>
</td></tr>
<tr><td bgcolor="#99997c">
<a href="install-config.html">Running configure</a>
</td></tr>
<tr><td bgcolor="#99997c">
<a href="install-check.html">Check your installation</a>
</td></tr>
<tr><td bgcolor="#99997c">
<b>Final system setup</b>
</td></tr>
<tr><td bgcolor="#99997c">
<a href="install-custom.html">Customize Mailman</a>
</td></tr>
<tr><td bgcolor="#99997c">
<a href="install-test.html">Create a test list</a>
</td></tr>
<tr><td bgcolor="#99997c">
<a href="install-trouble.html">Troubleshooting</a>
</td></tr>
<tr><td bgcolor="#99997c">
<a href="install-faq.html">Common problems FAQ</a>
</td></tr>
<tr><td bgcolor="#99997c">&nbsp;
<tr><td bgcolor="#663300"><b><font color="#ffffff">
Email Us
</font></b></td></tr>
<tr><td bgcolor="#99997c">
<a href="mailto:mailman-users@python.org">mailman-users@python.org</a>
</td></tr>
<tr><td bgcolor="#99997c">
&nbsp;
</td></tr>
<tr><td bgcolor="#99997c">
<center><a href="http://www.python.org/"><img border=0
    src="./images/PythonPoweredSmall.png"></a>&nbsp;<a
    href="http://sourceforge.net"><img
    src="http://sourceforge.net/sflogo.php?group_id=103"
    width="88" height="31" border="0"
    alt="SourceForge Logo"></a>
    
</td></tr>
<tr><td bgcolor="#99997c">
&nbsp;
</td></tr>
<tr><td bgcolor="#99997c">
&copy; 1998,1999,2000,2001,2002<br>Free Software Foundation, Inc.<br>
Verbatim copying and distribution of this entire article is permitted in
any medium, provided this notice is preserved.<br>
Please send comments on these pages to <a href="mailto:webmasters@gnu.org">
&lt;webmasters@gnu.org&gt;</a>, other questions to <a
href="mailto:gnu@gnu.org">&lt;gnu@gnu.org&gt;</a>.

</td></tr>
</table><!-- end of sidebar table -->

</td>
<td width="15">&nbsp;&nbsp;</td><!--spacer-->
<!-- end of sidebar cell -->
<!-- start of body cell -->
<td valign="top" width="90%" class="body"><br>
<h3>Final system set-up</h3>

    Congratulations!  You've installed the Mailman software.  To get
    everything running you need to hook Mailman up to both your web
    server and your mail system.

    <ul>
    <li>If you plan on running your MTA and web server on different
        machines, sharing Mailman installations via NFS, be sure that
        the clocks on those two machines are synchronized closely.
        You might take a look at the file
        <code>Mailman/LockFile.py</code>; the constant
        <code>CLOCK_SLOP</code> helps the locking mechanism compensate
        for clock skew in this type of environment.

    <p><li>Configure your web server to give <code>$prefix/cgi-bin</code>
        permission to run CGI scripts.  You probably need to be <b>root</b>
        to do this.

        <p>The line you should add might look something like one of
        the following (with the real absolute directory substituted
        for <code>$prefix</code>, of course), depending on your web
        server:

<blockquote>
<pre>
ScriptAlias   /mailman/       $prefix/cgi-bin/
Exec          /mailman/*      $prefix/cgi-bin/*
</pre>
</blockquote>

        <p>Consult your web server's documentation for details.

    <p><li><b>IMPORTANT:</b> You want to be very sure that the user id
        under which your CGI scripts run is <b>not</b> in the
        <code>mailman</code> group you created above, otherwise
        private archives will be accessible to anyone.

    <p><li>Copy the Mailman, Python, and GNU logos to a location accessible
        to your web server.  E.g. with Apache, you've usually got an
        <code>icons</code> directory that you can drop the images
        into.  You want to copy
        <code>$prefix/icons/mailman.jpg</code>,
        <code>$prefix/icons/PythonPowered.png</code>, and
        <code>$prefix/icons/gnu-head-tiny.jpg</code> to this
        directory.

        <p>You then want to add a line to your
        <code>$prefix/Mailman/mm_cfg.py</code> file which sets the
        base URL for the logos.  For example:

<blockquote>
<pre>
IMAGE_LOGOS = '/images/'
</pre>
</blockquote>

        <p>The default value for <code>IMAGE_LOGOS</code> is
        <code>/icons/</code>.  Read the
        comment in <code>Defaults.py.in</code> for details.

    <p><li>Configure your web server to point to the Pipermail public
        mailing list archives:

        For example, in Apache:

<blockquote>
<pre>
Alias /pipermail/ $varprefix/archives/public/
</pre>
</blockquote>

        <p>where <code>$varprefix</code> is usually
        <code>$prefix</code> unless you've used the 
        <code>--with-var-prefix</code> option to configure.

        <p>Consult your web server's documentation for details.  Also
        be sure to configure your web server to follow symbolic links
        in this directory, otherwise public Pipermail archives won't
        be accessible.  For Apache users, consult the
        <em>FollowSymLinks</em> option.

        <p>Now restart your web server.

    <p><li><b>IMPERATIVE!  IMPORTANT!  DO THIS!  YOU'LL BE SORRY IF
    YOU DON'T!</b>

        <p>Set up the crontab entries.  Mailman runs a number of cron
        jobs for its basic functionality.  You need to be user
        <code>mailman</code> (or whatever you specified as
        <code>--with-ownername</code>) to perform this step.  Add
        <code>$prefix/cron/crontab.in</code> as a crontab entry by
        executing these commands:

<blockquote>
<pre>
% su - mailman
% cd $prefix/cron
% crontab crontab.in
</pre>
</blockquote>

    <p><li>Look to see if there is special instructions about hooking your
        MTA up to Mailman.  If so, there will be a
        README.<em>yourMTA</em> file in the Mailman source directory.

    <p><li>Add aliases for <code>mailman</code> and
        <code>mailman-owner</code> to the system's mail alias
        database.  These aliases should point to whoever is ultimately
        responsible for the Mailman installation.  Here are
        instructions for those running Sendmail:

        <ol>
        <li>su to root.
        <li>Assuming your email is <code>fred@flintstone.com</code>,
            add the following lines to the file
            <code>/etc/aliases</code>:

<blockquote>
<pre>
mailman: fred@flintstone.com
mailman-owner: mailman
</pre>
</blockquote>

        <li>Some versions of sendmail require you to run the program
           <code>newaliases</code> explicitly.
        </ol>

        <p>If you don't run sendmail, consult the documentation of
        your mail transport program for information on adding these
        aliases.
    </ul>

</td><!-- end of body cell -->
</tr><!-- end of sidebar/body row -->
</table><!-- end of page table -->
</body></html>
